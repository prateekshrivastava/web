<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8" />
	<title>Document</title>
	<script>
		var vid = null;
		var si = null;
		window.onload = function(){
			vid = document.getElementsByTagName("audio")[0];
			uinfo = document.getElementsByTagName("output")[1];
			document.getElementsByTagName("button")[0].onclick = playHandler;
			document.getElementsByTagName("button")[1].onclick = pauseHandler;
			document.getElementsByTagName("button")[2].onclick = stopHandler;
		};
		function playHandler(){
			vid.play();
			document.getElementsByTagName("output")[1].value = vid.duration;
			si = setInterval(updateInfo,10);
		};
		function updateInfo(){
			document.getElementsByTagName("output")[0].value = vid.currentTime;
			console.log("i am being called");
			if(vid.duration == vid.currentTime){
				clearInterval(si);
			}
		};
		function pauseHandler(){
			vid.pause();
		};
		function stopHandler(){
			vid.currentTime = 0;
			vid.pause();
		};
	</script>
</head>
<body>
	<audio loop >
		<source src="assets/music.mp3"></source> 
	</audio>
	<hr/>
	<h3> Current Time : <output></output></h3>
	<h3> Duration : <output></output></h3>
	<hr/>
	<button>Play</button>
	<button>Pause</button>
	<button>Stop</button>
</body>
</html>